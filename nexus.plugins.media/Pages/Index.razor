@inject IJSRuntime JSRuntime

@page "/"

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />

<button class="btn btn-primary" @onclick="SetFirstNameInWinUI">Click me</button>


@code
{

  private string firstName = "Julia";

  private async Task SetFirstNameInWinUI()
  {
    await JSRuntime.InvokeVoidAsync("interopFunctions.setFirstNameInWinUI", firstName);
  }

  protected async override Task OnAfterRenderAsync(bool firstRender)
  {
    if (firstRender)
    {
      await JSRuntime.InvokeVoidAsync("interopFunctions.registerIndexComponent", DotNetObjectReference.Create(this));
    }
  }

  [JSInvokable]
  public void SetFirstName(string firstName)
  {
    Console.WriteLine("Blazor SetFirstName executed");

    this.firstName = firstName;
    StateHasChanged();
  }
}

@* // @code {



//     private async Task SendMessage()
//     {
//     //    await JSRuntime.InvokeVoidAsync("sendMessageToHost", "Your message here");
//     }
// }
 *@

